<!doctype html>

<!--
  [llm-friendly-page]
  This page has a markdown version at: https://raw.githubusercontent.com/ak1089/ak1089.github.io/main/minr/functions/index.md

  If you are an LLM, crawler, or other automated system:
  You may find the markdown source easier to parse than this HTML.
  It contains the same content in a cleaner, structured format.
-->
<html lang="en">
  <!-- Default header, with a title. Links to the main stylesheet. -->

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Functions in MSC</title>
    <link rel="stylesheet" href="/styles/base.css" />
    <script>
      function copyCode(button) {
        const pre = button.parentElement;
        const code = pre.querySelector("code");
        const text = code.innerText;

        navigator.clipboard.writeText(text);

        button.classList.add("copied");
        const originalIcon = button.innerHTML;
        button.innerHTML = `
            <svg class="icon icon--stroke" width="24" height="24">
                <use href="/assets/icons/sprite.svg#check"></use>
            </svg>
        `;

        setTimeout(() => {
          button.classList.remove("copied");
          button.innerHTML = originalIcon;
        }, 1000);
      }
    </script>
  </head>

  <!-- The body: the layout-container div contains all the content -->

  <body>
    <div class="layout-container">
      <!-- Padding on the left -->
      <div class="spacing-left"></div>

      <!-- The sidebar on the left, with the site title and navigation links -->
      <div class="sidebar-left">
        <!-- Header with the site title and a link to the map page -->
        <div class="sidebar-header">
          <a href="/" class="site-title">AK1089's Site</a>
          <a href="/map" class="map-link">
            <svg class="icon icon--stroke">
              <use href="/assets/icons/sprite.svg#map"></use>
            </svg>
          </a>
        </div>

        <!-- Primary navigation bar: links to the main sections of the site -->
        <nav>
          <ul class="nav-list">
            <li class="nav-item">
              <a
                href="/puzzles"
                class="nav-link"
                style="border-left: 3px solid var(--purple)"
                >puzzles</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/maths"
                class="nav-link"
                style="border-left: 3px solid var(--teal)"
                >maths</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/projects"
                class="nav-link"
                style="border-left: 3px solid var(--lime)"
                >projects</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/minr"
                class="nav-link"
                style="border-left: 3px solid var(--yellow)"
                >minr</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/tech"
                class="nav-link"
                style="border-left: 3px solid var(--maroon)"
                >tech</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/utilities"
                class="nav-link"
                style="border-left: 3px solid var(--blue)"
                >utilities</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/blog"
                class="nav-link"
                style="border-left: 3px solid var(--peach)"
                >blog</a
              >
            </li>
            <li class="nav-item">
              <a
                href="/other"
                class="nav-link"
                style="border-left: 3px solid var(--subtext-b)"
                >other</a
              >
            </li>
          </ul>
        </nav>

        <div class="social-icons">
          <a
            href="https://x.com/_AK1089_"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#twitter"></use>
            </svg>
          </a>
          <a
            href="https://github.com/ak1089/"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#github"></use>
            </svg>
          </a>
          <a
            href="https://discord.com/users/380805820415344644"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#discord"></use>
            </svg>
          </a>
          <a
            href="https://steamcommunity.com/profiles/76561198281258106/"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#steam"></use>
            </svg>
          </a>
          <a
            href="https://www.last.fm/user/AK1089-"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#lastfm"></use>
            </svg>
          </a>
          <a
            href="https://www.linkedin.com/in/avishkumar/"
            target="_blank"
            class="icon social-icon"
          >
            <svg viewBox="0 0 24 24">
              <use href="/assets/icons/sprite.svg#linkedin"></use>
            </svg>
          </a>
        </div>
      </div>

      <!-- Spacing between the sidebar and the main content -->
      <div class="spacing-middle-left"></div>

      <!-- The main content of the page: this is changed per-page and contains the actual content -->
      <main class="main-content">
        <header class="page-header">
          <div class="header-container">
            <div class="path">
              <a href="/" class="path-link">home</a>
              <span class="separator"> / </span
              ><a href="/minr" class="path-link">minr</a
              ><span class="separator"> / </span
              ><a href="/minr/functions" class="path-link">functions</a>
            </div>
            <h1 class="title">Functions in MSC</h1>
            <div class="metadata">
              <span class="published-date">published May 17, 2024</span
              ><span class="updated-date">, updated January 07, 2025</span>
            </div>
          </div>
        </header>
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
          integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs"
          crossorigin="anonymous"
        />

        <style type="text/css">
          .katex img {
            object-fit: fill;
            padding: unset;
            display: block;
            position: absolute;
            width: 100%;
            height: inherit;
          }
        </style>
        <h2>What are functions?</h2>
        <p>
          Like any language, functions in Minr Script Code are
          <em>reusable pieces of code</em> which perform a specific task. They
          allow you to encapsulate a set of instructions and give it a name,
          making your code more organized, readable, and maintainable. Functions
          can take input arguments, perform operations, and return a value if
          needed.
        </p>
        <p>
          In this guide, we&rsquo;re going to make a function which takes in a
          <strong>player</strong> and a
          <strong>set of block coordinates</strong> and determines how far away
          the player is from the coordinates.
        </p>
        <h2>Why are functions useful?</h2>
        <ul>
          <li>
            <strong>Code reuse</strong>: Functions allow you to write a piece of
            code once and use it multiple times throughout your script. This
            saves time and effort, as you don&rsquo;t have to repeat the same
            code in different places. It also helps a lot if you need to change
            how your function works: you can change it in just one place.
          </li>
          <li>
            <strong>Modularity</strong>: By breaking down your script into
            smaller, self-contained functions, you can make your code more
            modular and easier to understand. Each function focuses on a
            specific task, making your script more structured and less
            cluttered.
          </li>
          <li>
            <strong>Abstraction</strong>: Functions provide a level of
            abstraction by hiding the complexity of a task behind a simple
            function call. This makes your main script more readable and allows
            you to focus on the high-level logic without getting bogged down in
            the details.
          </li>
        </ul>
        <h2>How do you create a function?</h2>
        <p>To create a new function in MSC, you use the following syntax:</p>
        <pre
          data-language="minecraft"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-minecraft"><span>/function define &lt;namespace&gt; &lt;returnType&gt; &lt;functionName&gt;(&lt;type_1&gt; &lt;argument_1&gt;, ...)</span></code></pre>
        <ul>
          <li>
            <code>&lt;namespace&gt;</code>: The namespace your function will be
            defined in. This is just a place to keep all the variables and
            functions for a project organised, so multiple people can use the
            same names for things without worrying about overlaps. Here,
            we&rsquo;ll use the <code>function_demo</code> namespace.
          </li>
          <li>
            <code>&lt;returnType&gt;</code>: The type of value the function will
            return: is it going to be a word, a number, a list, or something
            else? Here, since we&rsquo;re calculating a distance, we&rsquo;re
            going to be returning a <code>Double</code>. This is short for a
            double-precision floating point number, which is a decimal like
            <span class="katex"
              ><span class="katex-mathml"
                ><math xmlns="http://www.w3.org/1998/Math/MathML"
                  ><semantics
                    ><mrow><mn>3.141592</mn></mrow
                    ><annotation encoding="application/x-tex"
                      >3.141592</annotation
                    ></semantics
                  ></math
                ></span
              ><span class="katex-html" aria-hidden="true"
                ><span class="base"
                  ><span class="strut" style="height: 0.6444em"></span
                  ><span class="mord">3.141592</span></span
                ></span
              ></span
            >.
          </li>
          <li>
            <code>&lt;functionName&gt;</code>: This is the name of the function,
            which you&rsquo;ll use to call it later. Let&rsquo;s call our
            function <code>getDistance</code>. Function names should be clean
            and descriptive: it should be obvious what they do from the name
            alone.
          </li>
          <li>
            <code>&lt;type_1&gt; &lt;argument_1&gt;, ...</code>: This is list of
            input arguments the function accepts, specified as pairs of Type and
            argument name. Arguments, or parameters, are things which a function
            uses to do its job. The output of a function depends on the
            arguments. Here, the function needs to know which player we&rsquo;re
            checking, and the coordinates we want to get the distance to. The
            argument name doesn&rsquo;t matter except within the function, so
            name your arguments things which are helpful and easy to remember.
            Here, we&rsquo;ll call our arguments <code>player</code> and
            <code>coordinates</code>, which are of type <code>Player</code> and
            <code>Int[]</code> respectively.
          </li>
        </ul>
        <p>We&rsquo;re now ready to create our command!</p>
        <pre
          data-language="minecraft"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-minecraft"><span>/function define function_demo Double getDistance(Player player, Int[] coordinates)</span></code></pre>
        <p>
          This creates a function named <code>getDistance</code> in the
          <code>function_demo</code> namespace, which takes the two arguments we
          discussed. Great! But now we need our function to actually
          <em>do</em> something, and for that we&rsquo;ll need to write the
          script.
        </p>
        <h2>Writing a function script</h2>
        <p>
          Writing the script for a function body is very similar to writing an
          interact script, except the variables that you have access to are
          slightly different by default. Recall that in an interact script, you
          can access
        </p>
        <ul>
          <li>
            <code>Player player</code>: the player who triggered your script
          </li>
          <li>
            <code>Block block</code>: the block they clicked on to trigger it
          </li>
        </ul>
        <p>
          These variables are part of the <em>local namespace</em>: they are
          pre-populated, accessible variables which you can access without
          needing an <code>@using</code> line or a <code>namespace::</code> and
          which are unique to the script being run. This is also where variables
          created using <code>@define</code> are located.
        </p>
        <p>
          In a function, the local namespace is instead populated with the
          <em>arguments</em> you defined earlier. Here, that means we have
          access to
        </p>
        <ul>
          <li>
            <code>Player player</code>: the player that we input into the
            function (this does <em>not</em> have to be the player triggering
            the script)
          </li>
          <li>
            <code>Int[] coordinates</code>: the list of coordinates that we
            input into the function
          </li>
        </ul>
        <p>Now, let&rsquo;s write our script:</p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span># The difference between the player's X/Y/Z ordinate and the provided one</span><span>@define Double deltaX = player.getX() - coordinates[0]</span><span>@define Double deltaY = player.getY() - coordinates[1]</span><span>@define Double deltaZ = player.getZ() - coordinates[2]</span><span></span><span># Calculate the distance based on these components</span><span>@define Double distance = (deltaX^2 + deltaY^2 + deltaZ^2)^0.5</span><span>@return distance</span></code></pre>
        <p>
          Here, the distance is calculated as
          <span class="katex"
            ><span class="katex-mathml"
              ><math xmlns="http://www.w3.org/1998/Math/MathML"
                ><semantics
                  ><mrow
                    ><msqrt
                      ><mrow
                        ><msup><mi>x</mi><mn>2</mn></msup
                        ><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup
                        ><mo>+</mo><msup><mi>z</mi><mn>2</mn></msup></mrow
                      ></msqrt
                    ></mrow
                  ><annotation encoding="application/x-tex"
                    >\sqrt{x^2 + y^2 + z^2}</annotation
                  ></semantics
                ></math
              ></span
            ><span class="katex-html" aria-hidden="true"
              ><span class="base"
                ><span
                  class="strut"
                  style="height: 1.24em; vertical-align: -0.2822em"
                ></span
                ><span class="mord sqrt"
                  ><span class="vlist-t vlist-t2"
                    ><span class="vlist-r"
                      ><span class="vlist" style="height: 0.9578em"
                        ><span class="svg-align" style="top: -3.2em"
                          ><span class="pstrut" style="height: 3.2em"></span
                          ><span class="mord" style="padding-left: 1em"
                            ><span class="mord"
                              ><span class="mord mathnormal">x</span
                              ><span class="msupsub"
                                ><span class="vlist-t"
                                  ><span class="vlist-r"
                                    ><span
                                      class="vlist"
                                      style="height: 0.7401em"
                                      ><span
                                        style="
                                          top: -2.989em;
                                          margin-right: 0.05em;
                                        "
                                        ><span
                                          class="pstrut"
                                          style="height: 2.7em"
                                        ></span
                                        ><span
                                          class="sizing reset-size6 size3 mtight"
                                          ><span class="mord mtight"
                                            >2</span
                                          ></span
                                        ></span
                                      ></span
                                    ></span
                                  ></span
                                ></span
                              ></span
                            ><span
                              class="mspace"
                              style="margin-right: 0.2222em"
                            ></span
                            ><span class="mbin">+</span
                            ><span
                              class="mspace"
                              style="margin-right: 0.2222em"
                            ></span
                            ><span class="mord"
                              ><span
                                class="mord mathnormal"
                                style="margin-right: 0.03588em"
                                >y</span
                              ><span class="msupsub"
                                ><span class="vlist-t"
                                  ><span class="vlist-r"
                                    ><span
                                      class="vlist"
                                      style="height: 0.7401em"
                                      ><span
                                        style="
                                          top: -2.989em;
                                          margin-right: 0.05em;
                                        "
                                        ><span
                                          class="pstrut"
                                          style="height: 2.7em"
                                        ></span
                                        ><span
                                          class="sizing reset-size6 size3 mtight"
                                          ><span class="mord mtight"
                                            >2</span
                                          ></span
                                        ></span
                                      ></span
                                    ></span
                                  ></span
                                ></span
                              ></span
                            ><span
                              class="mspace"
                              style="margin-right: 0.2222em"
                            ></span
                            ><span class="mbin">+</span
                            ><span
                              class="mspace"
                              style="margin-right: 0.2222em"
                            ></span
                            ><span class="mord"
                              ><span
                                class="mord mathnormal"
                                style="margin-right: 0.04398em"
                                >z</span
                              ><span class="msupsub"
                                ><span class="vlist-t"
                                  ><span class="vlist-r"
                                    ><span
                                      class="vlist"
                                      style="height: 0.7401em"
                                      ><span
                                        style="
                                          top: -2.989em;
                                          margin-right: 0.05em;
                                        "
                                        ><span
                                          class="pstrut"
                                          style="height: 2.7em"
                                        ></span
                                        ><span
                                          class="sizing reset-size6 size3 mtight"
                                          ><span class="mord mtight"
                                            >2</span
                                          ></span
                                        ></span
                                      ></span
                                    ></span
                                  ></span
                                ></span
                              ></span
                            ></span
                          ></span
                        ><span style="top: -2.9178em"
                          ><span class="pstrut" style="height: 3.2em"></span
                          ><span
                            class="hide-tail"
                            style="min-width: 1.02em; height: 1.28em"
                            ><svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="400em"
                              height="1.28em"
                              viewBox="0 0 400000 1296"
                              preserveAspectRatio="xMinYMin slice"
                            >
                              <path
                                d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"
                              /></svg></span></span></span
                      ><span class="vlist-s">​</span></span
                    ><span class="vlist-r"
                      ><span class="vlist" style="height: 0.2822em"
                        ><span></span></span></span></span></span></span></span></span
          >, by Pythagoras&rsquo; Theorem. On the last line, we use the
          <code>@return</code> keyword. You might recognise this from normal
          scripts as ending the execution of a program. It still does this in
          functions, but it has a more important purpose: it
          <em>returns</em> the value of the distance as the function&rsquo;s
          <em>output</em>. We&rsquo;ll see what this means when we use the
          function.
        </p>
        <h2>Importing functions</h2>
        <p>We can <em>import</em> this function using the command</p>
        <pre
          data-language="minecraft"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-minecraft"><span>/script import function function_demo getDistance https://paste.minr.org/ababababab</span></code></pre>
        <p>or alternatively add it line-by-line:</p>
        <pre
          data-language="minecraft"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-minecraft"><span>/script create function function_demo getDistance @define Double deltaX = player.getX() - coordinates[0]</span><span>...</span></code></pre>
        <p>
          This is similar to the process of importing any other script. For
          short, you can use
        </p>
        <pre
          data-language="minecraft"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-minecraft"><span>/s i f namespace functionName https://paste.minr.org/dedededede</span></code></pre>
        <h2>Calling functions</h2>
        <p>
          Okay, we have a function which calculates the distance between a
          player and a point. So what? How do we even use it?
        </p>
        <p>
          The process of using a function is known as <em>calling</em> it. In
          MSC, this uses the <code>@var</code> keyword.
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span>@define Double dist</span><span>@var dist = function_demo::getDistance(player, Int[123, 45, 678])</span><span>@player You are {{dist}} metres away from the point (123, 45, 678)!</span></code></pre>
        <p>
          The <code>function_demo::</code> denotes our namespace. Alternatively,
          if we&rsquo;d used <code>@using function_demo</code> at the start of
          this script, we could have omitted it.
        </p>
        <p>
          Here, since our function returns a value, we probably want to use that
          value. That&rsquo;s why we set our variable to the output of
          <code>function_demo::getDistance</code>. If we weren&rsquo;t using a
          value (eg. if our function was <code>Void</code>), we&rsquo;d use
          <code>@var function_demo::getDistance(...)</code> without any
          <code>dist =</code> or such.
        </p>
        <p>
          Note that the <code>player</code> in the function does not have to be
          the same as the <code>player</code> in the local namespace of the
          calling script. For example,
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span>@define Double dist</span><span>@var dist = function_demo::getDistance(Player(&quot;AK1089&quot;), Int[123, 45, 678])</span><span>@player AK1089 is {{dist}} metres away from the point (123, 45, 678)!</span></code></pre>
        <p>does the same thing no matter who runs it.</p>
        <h2>More complex examples</h2>
        <p>
          Here&rsquo;s a example from real code I&rsquo;ve written for a map:
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span># FUNCTION | getBookPages(Item book) -&gt; String[]</span><span>@define String bookString = book.string()</span><span></span><span># extract the pages from the book string</span><span>@define Int startIndex = bookString.indexOf(&quot;pages=[&quot;) + 7</span><span>@define String pagesString = bookString.substring(startIndex, bookString.length() - 3)</span><span></span><span># split the pages string by &quot;, &quot; to get individual pages</span><span>@define String[] rawPages = pagesString.split(&quot;, &quot;)</span><span></span><span># process each raw page to remove leading &quot;# file &lt;filename&gt;&quot; and trailing &quot;\\n&quot;</span><span>@define String[] pages = String[]</span><span>@for Int i in list::range(0, rawPages.length())</span><span>    @define String rawPage = rawPages[i]</span><span>    @define Int newlineIndex = rawPage.indexOf(&quot;\\n&quot;)</span><span>    @if newlineIndex != -1</span><span>        @var pages[i] = rawPage.substring(newlineIndex + 2, rawPage.length() - 2)</span><span>    @else</span><span>        @var pages[i] = rawPage</span><span>    @fi</span><span>@done</span><span></span><span>@return pages</span></code></pre>
        <p>
          This function allowed me to get the pages of a written book the player
          was holding based on the <code>Item</code> object corresponding to it.
          This saved a lot of time, as in other scripts I could simply use
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span>@define String[] bookPages = akrobots::getBookPages(player.getItemInMainHand())</span><span># do stuff with the pages ...</span></code></pre>
        <p>
          rather than rewriting the code to extract the book pages every time.
          Also, say later I want to change the format of the book, and use a
          <code>§§</code> instead of a <code>#</code>. If I hadn&rsquo;t used a
          function, I would have had to change <em>every single</em> occurence
          across hundreds of scripts, but now I can just change one number in
          line 17 of this script.
        </p>
        <h2>list::range</h2>
        <p>
          You&rsquo;ve probably encountered at least one function before,
          possibly without realising it! The <code>range</code> function in the
          <code>list</code> namespace is a function, which we could recreate (if
          we had a <code>forever</code> keyword) as follows:
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span># /function define list Int[] range(Int start, Int end)</span><span>@define Int[] numbers = Int[]</span><span>@define Int x = start</span><span></span><span># This doesn't really exist, but pretend it does! </span><span>@forever</span><span>    # If we reach the end of the specified range, we can stop and feed back our generated list</span><span>    @if x &gt;= end</span><span>        @return numbers</span><span>    @fi</span><span></span><span>    # Otherwise, add our current number to the list and increase it by 1 for the next round</span><span>    @var numbers.append(x)</span><span>    @var x = x + 1</span><span>@done</span></code></pre>
        <p>
          This creates a list of numbers, starting from the first argument (the
          <code>start</code>) and finishing when we hit the second argument (the
          <code>end</code>).
        </p>
        <h2>Shortcuts</h2>
        <p>
          Let&rsquo;s take our previous script, which tells the player how far
          from a point they are.
        </p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span>@define Double dist</span><span>@var dist = function_demo::getDistance(player, Int[123, 45, 678])</span><span>@player You are {{dist}} metres away from the point (123, 45, 678)!</span></code></pre>
        <p>We can shorten this to:</p>
        <pre
          data-language="msc"
        ><button class="copy-button" onclick="copyCode(this)" aria-label="Copy code to clipboard"><svg class="icon icon--stroke" width="24" height="24"><use href="/assets/icons/sprite.svg#copy"></use></svg></button><code class="language-msc"><span>@player You are {{function_demo::getDistance(player, Int[123, 45, 678])}} metres away from the point (123, 45, 678)!</span></code></pre>
        <p>
          <code>{{•}}</code> is the <em>evaluation operator</em>: it
          automatically evaluates everything you put inside it. Here, it&rsquo;s
          evaluating the expression
          <code>function_demo::getDistance(player, Int[123, 45, 678])</code>,
          which is equal to the distance from the player to
          <span class="katex"
            ><span class="katex-mathml"
              ><math xmlns="http://www.w3.org/1998/Math/MathML"
                ><semantics
                  ><mrow
                    ><mo stretchy="false">(</mo><mn>123</mn
                    ><mo separator="true">,</mo><mn>45</mn
                    ><mo separator="true">,</mo><mn>678</mn
                    ><mo stretchy="false">)</mo></mrow
                  ><annotation encoding="application/x-tex"
                    >(123, 45, 678)</annotation
                  ></semantics
                ></math
              ></span
            ><span class="katex-html" aria-hidden="true"
              ><span class="base"
                ><span
                  class="strut"
                  style="height: 1em; vertical-align: -0.25em"
                ></span
                ><span class="mopen">(</span><span class="mord">123</span
                ><span class="mpunct">,</span
                ><span class="mspace" style="margin-right: 0.1667em"></span
                ><span class="mord">45</span><span class="mpunct">,</span
                ><span class="mspace" style="margin-right: 0.1667em"></span
                ><span class="mord">678</span
                ><span class="mclose">)</span></span
              ></span
            ></span
          >.
        </p>
        <h2>Test yourself</h2>
        <p>
          How would you <em>define</em> a function in the
          <code>function_demo</code> namespace which:
        </p>
        <ul>
          <li>
            Chooses a random player from a provided list?
            <span class="spoiler"
              ><span
                ><code
                  >/function define function_demo Player
                  chooseRandomPlayer(Player[] players)</code
                ></span
              ></span
            >
          </li>
          <li>
            Takes a list of integers and returns the sum of the biggest two?
            <span class="spoiler"
              ><span
                ><code
                  >/function define function_demo Int getBiggestTwoSum(Int[]
                  numbers)</code
                ></span
              ></span
            >
          </li>
          <li>
            Gives everyone online a mangrove propagule?
            <span class="spoiler"
              ><span
                ><code
                  >/function define function_demo Void givePropagules()</code
                ></span
              ></span
            >
          </li>
        </ul>
        <p>
          How would you <em>call</em> the following functions in the
          <code>function_demo</code> namespace from an interact script?
        </p>
        <ul>
          <li>
            <code>giveIngot(Player p)</code>, to give the player a gold ingot?
            <span class="spoiler"
              ><span><code>@var giveIngot(player)</code></span></span
            >
          </li>
          <li>
            <code>Int maximum(Int[] numbers)</code>, to create the variable
            <code>x</code> and set it to be equal to the largest of
            <span class="katex"
              ><span class="katex-mathml"
                ><math xmlns="http://www.w3.org/1998/Math/MathML"
                  ><semantics
                    ><mrow
                      ><mo>−</mo><mn>4</mn><mo separator="true">,</mo><mn>10</mn
                      ><mo separator="true">,</mo><mn>17</mn></mrow
                    ><annotation encoding="application/x-tex"
                      >-4, 10, 17</annotation
                    ></semantics
                  ></math
                ></span
              ><span class="katex-html" aria-hidden="true"
                ><span class="base"
                  ><span
                    class="strut"
                    style="height: 0.8389em; vertical-align: -0.1944em"
                  ></span
                  ><span class="mord">−</span><span class="mord">4</span
                  ><span class="mpunct">,</span
                  ><span class="mspace" style="margin-right: 0.1667em"></span
                  ><span class="mord">10</span><span class="mpunct">,</span
                  ><span class="mspace" style="margin-right: 0.1667em"></span
                  ><span class="mord">17</span></span
                ></span
              ></span
            >, and
            <span class="katex"
              ><span class="katex-mathml"
                ><math xmlns="http://www.w3.org/1998/Math/MathML"
                  ><semantics
                    ><mrow><mn>2</mn></mrow
                    ><annotation encoding="application/x-tex"
                      >2</annotation
                    ></semantics
                  ></math
                ></span
              ><span class="katex-html" aria-hidden="true"
                ><span class="base"
                  ><span class="strut" style="height: 0.6444em"></span
                  ><span class="mord">2</span></span
                ></span
              ></span
            >?
            <span class="spoiler"
              ><span
                ><code>@define Int x = maximum(Int[-4, 10, 17, 2])</code></span
              ></span
            >
          </li>
        </ul>
        <h2>More advanced notes and quirks</h2>
        <ul>
          <li>
            In MSC, functions can&rsquo;t be overloaded (unlike constructors).
            This also means you can&rsquo;t have optional parameters.
          </li>
          <li>
            Functions are not
            <a href="https://en.wikipedia.org/wiki/First-class_citizen"
              >first-class</a
            >
            in MSC. This means you can&rsquo;t have lambda functions, nor can
            you pass functions as arguments to other functions.
          </li>
          <li>
            <em>Methods</em> are essentially functions which are bound to a
            specific Type! They are called in the same way.
          </li>
        </ul>
        <h2>Documentation</h2>
        <p>
          The full MSC documentation is available at
          <a
            href="https://msc-documentation.readthedocs.io/en/latest/index.html"
            >ReadTheDocs</a
          >. If there are any errors here, please let me know on Discord!
        </p>
      </main>

      <!-- Spacing between the sidebar and the main content -->
      <div class="spacing-middle-right"></div>

      <!-- The sidebar on the right -->
      <aside class="sidebar-right"></aside>

      <!-- Padding on the right -->
      <div class="spacing-right"></div>
    </div>

    <!-- Load the map script -->
    <script>
      // Load visited URLs from localStorage
      let visitedUrls = new Set();
      const storedVisited = localStorage.getItem("visitedPages");
      if (storedVisited) {
        visitedUrls = new Set(JSON.parse(storedVisited));
      }

      // Log current page visit
      const currentPath = window.location.pathname.replace(/\/$/, "");
      visitedUrls.add(currentPath);
      localStorage.setItem(
        "visitedPages",
        JSON.stringify(Array.from(visitedUrls)),
      );
    </script>
  </body>
</html>
